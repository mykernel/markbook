{
    "version": "1.0",
    "description": "Claude Code 技能激活配置（中文优先版）。控制技能何时自动建议或阻止操作。",
    "skills": {
        "skill-developer": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "元技能 - 用于创建和管理 Claude Code 技能系统",
            "promptTriggers": {
                "keywords": [
                    "技能系统",
                    "创建技能",
                    "添加技能",
                    "技能触发",
                    "技能规则",
                    "Hook 系统",
                    "技能开发",
                    "skill-rules.json",
                    "skill system",
                    "create skill",
                    "add skill"
                ],
                "intentPatterns": [
                    "(如何|怎么|解释|how do|explain).*?(skill|技能)",
                    "(创建|添加|修改|构建|create|add|modify).*?(skill|技能)",
                    "(skill|技能).*?(工作|触发|激活|系统|work|trigger)"
                ]
            }
        },
        "backend-dev-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "后端开发规范 - Node.js/Express/TypeScript 最佳实践",
            "promptTriggers": {
                "keywords": [
                    "后端",
                    "后端开发",
                    "微服务",
                    "控制器",
                    "服务层",
                    "仓库层",
                    "路由",
                    "API",
                    "接口",
                    "中间件",
                    "验证",
                    "数据库访问",
                    "配置",
                    "backend",
                    "controller",
                    "service",
                    "repository",
                    "route",
                    "express",
                    "endpoint",
                    "middleware",
                    "Prisma",
                    "Zod"
                ],
                "intentPatterns": [
                    "(创建|添加|实现|构建|create|add|implement).*?(路由|接口|API|控制器|服务|route|endpoint|controller|service)",
                    "(修复|处理|调试|fix|handle|debug).*?(错误|异常|后端|error|exception|backend)",
                    "(添加|实现|add|implement).*?(中间件|验证|错误.*?处理|middleware|validation)",
                    "(组织|架构|重构|organize|structure|refactor).*?(后端|服务|API|backend|service)",
                    "(如何|最佳实践|how to|best practice).*?(后端|路由|控制器|服务|backend|route|controller)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "backend/**/*.ts",
                    "server/**/*.ts",
                    "api/**/*.ts",
                    "src/api/**/*.ts",
                    "services/**/*.ts",
                    "apps/backend/**/*.ts"
                ],
                "pathExclusions": [
                    "**/*.test.ts",
                    "**/*.spec.ts"
                ],
                "contentPatterns": [
                    "router\\.",
                    "app\\.(get|post|put|delete|patch)",
                    "export.*Controller",
                    "export.*Service",
                    "prisma\\."
                ]
            }
        },
        "frontend-dev-guidelines": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "high",
            "description": "前端开发规范 - React/TypeScript 最佳实践",
            "promptTriggers": {
                "keywords": [
                    "组件",
                    "React 组件",
                    "前端",
                    "界面",
                    "页面",
                    "弹窗",
                    "对话框",
                    "表单",
                    "样式",
                    "component",
                    "react component",
                    "UI",
                    "interface",
                    "page",
                    "modal",
                    "dialog",
                    "form",
                    "MUI",
                    "Material-UI",
                    "styling",
                    "frontend",
                    "React"
                ],
                "intentPatterns": [
                    "(创建|添加|制作|构建|更新|修改|编辑|create|add|make|build|update|modify).*?(组件|界面|页面|弹窗|表单|component|UI|page|modal|form)",
                    "(如何|最佳实践|how to|best practice).*?(组件|react|MUI|component)",
                    "(样式|设计|布局|style|design|layout).*?(组件|界面|component|UI)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "frontend/**/*.tsx",
                    "frontend/**/*.ts",
                    "client/**/*.tsx",
                    "web/**/*.tsx",
                    "src/**/*.tsx",
                    "apps/web/**/*.tsx"
                ],
                "pathExclusions": [
                    "**/*.test.tsx",
                    "**/*.test.ts",
                    "**/*.spec.tsx",
                    "**/*.spec.ts",
                    "**/*.styles.ts",
                    "**/vite.config.ts",
                    "**/tsconfig.json"
                ],
                "contentPatterns": [
                    "from 'react'",
                    "import.*React",
                    "useState",
                    "useEffect",
                    "from '@mui/material'",
                    "import.*Grid.*from.*@mui"
                ]
            }
        },
        "route-tester": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "API 路由测试 - JWT Cookie 认证测试工具",
            "promptTriggers": {
                "keywords": [
                    "测试路由",
                    "测试接口",
                    "测试 API",
                    "路由测试",
                    "接口测试",
                    "认证路由",
                    "JWT 测试",
                    "test route",
                    "test endpoint",
                    "test API",
                    "route testing",
                    "API testing",
                    "authenticated route",
                    "JWT testing"
                ],
                "intentPatterns": [
                    "(测试|调试|验证|test|debug|verify).*?(路由|接口|API|route|endpoint)",
                    "(如何|怎么|how to|how do I).*?(测试|test).*?(路由|接口|API|route|endpoint)",
                    "(测试|test).*?(认证|auth|JWT|cookie)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/routes/**/*.ts",
                    "**/test-*.js",
                    "**/test-*.ts"
                ],
                "contentPatterns": [
                    "router\\.(get|post|put|delete|patch)",
                    "app\\.(get|post|put|delete|patch)"
                ]
            }
        },
        "error-tracking": {
            "type": "domain",
            "enforcement": "suggest",
            "priority": "medium",
            "description": "错误追踪和监控 - Sentry 集成最佳实践",
            "promptTriggers": {
                "keywords": [
                    "错误处理",
                    "异常",
                    "错误追踪",
                    "监控",
                    "性能追踪",
                    "error handling",
                    "exception",
                    "sentry",
                    "error tracking",
                    "captureException",
                    "monitoring",
                    "performance tracking"
                ],
                "intentPatterns": [
                    "(添加|创建|实现|设置|add|create|implement|setup).*?(错误处理|错误追踪|error handling|sentry|error tracking)",
                    "(修复|处理|捕获|fix|handle|catch).*?(错误|异常|error|exception)",
                    "(如何|最佳实践|how to|best practice).*?(错误|监控|error|sentry|monitoring)"
                ]
            },
            "fileTriggers": {
                "pathPatterns": [
                    "**/instrument.ts",
                    "**/sentry*.ts",
                    "**/*Controller.ts",
                    "**/*Service.ts"
                ],
                "contentPatterns": [
                    "@sentry",
                    "Sentry\\.",
                    "captureException",
                    "captureMessage"
                ]
            }
        }
    },
    "notes": {
        "enforcement_types": {
            "suggest": "技能建议会显示但不会阻止执行",
            "block": "需要使用技能后才能继续（守护模式）",
            "warn": "显示警告但允许继续"
        },
        "priority_levels": {
            "critical": "最高优先级 - 匹配时始终触发",
            "high": "高优先级 - 大多数情况下触发",
            "medium": "中等优先级 - 明确匹配时触发",
            "low": "低优先级 - 仅显式匹配时触发"
        },
        "customization": {
            "pathPatterns": "路径匹配模式 - 需根据您的项目结构调整",
            "keywords": "关键词 - 支持中英文双语，优先中文",
            "intentPatterns": "意图模式 - 使用正则表达式进行灵活匹配",
            "important": "⚠️ 重要：pathPatterns 必须根据您的实际项目结构修改！"
        }
    }
}
